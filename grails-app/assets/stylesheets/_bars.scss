//
// _bars.scss
//
// Copyright (c) 2011-2017, Daniel Ellermann
//
// This program is free software: you can redistribute it and/or modify
// it under the terms of the GNU General Public License as published by
// the Free Software Foundation, either version 3 of the License, or
// (at your option) any later version.
//
// This program is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
// GNU General Public License for more details.
//
// You should have received a copy of the GNU General Public License
// along with this program.  If not, see <http://www.gnu.org/licenses/>.
//


@import "bootstrap/mixins";
@import "bootstrap/variables";
@import "_mixins";
@import "_variables";


//===============================================
//
// Page components
//
//===============================================

// title and toolbar
.title-toolbar {
  @include transition(background-color 1s);

  display: table;
  padding: ($navbar-margin-bottom / 2) 0 ($line-height-computed / 2);
  width: 100%;
}
.title {
  display: table-cell;
  padding: 0 ($grid-gutter-width / 2);
  vertical-align: middle;

  h1, h2 {
    margin: 0;
    white-space: nowrap;
  }
}
.toolbar {
  display: table-cell;
  height: $input-height-base;
  padding-right: ($grid-gutter-width / 2);
  position: relative;
  text-align: right;
  vertical-align: middle;

  > div {
    position: relative;
  }
  .go-top-btn {
    display: none;
  }
  .dropdown-menu {
    left: auto;
    right: 0;
  }
}
@media (max-width: $screen-xs-max) {
  .title-toolbar {
    background: rgba(#FFF, 0.9);
    margin-bottom: $line-height-computed;
    left: 0;
    right: 0;
    padding-top: $navbar-margin-bottom;
    position: fixed;
    table-layout: fixed;
    top: $navbar-height;
    z-index: 10000;
  }
  .title {
    width: 55%;

    h2 {
      overflow-x: hidden;
      text-overflow: ellipsis;
    }
  }
  .toolbar {
    width: 45%;

    .title.hidden-xs + & {
      width: 100%;    // full size toolbar if title is hidden
    }
    .btn {
      @include button-size(
        $padding-base-vertical, $padding-xs-horizontal, $font-size-base,
        $line-height-base, $border-radius-base
      );
    }
    .dropdown-menu {
      right: ($grid-gutter-width / 2 - 1px);
    }
  }
}
@media (min-width: $screen-sm-min) {
  .title-toolbar.fixed {
    @include box-shadow(0 5px 2px rgba($gray-base, 0.1));

    background: rgba($spring-gray, 0.8);
    border-bottom: 1px solid #DDD;
    border-bottom-left-radius: $border-radius-base;
    border-bottom-right-radius: $border-radius-base;
    left: 50%;
    position: fixed;
    top: 0;
    z-index: 20000;

    .toolbar .go-top-btn {
      display: inline-block;
    }
  }
}
@include make-fixed-title-toolbar(sm);
@include make-fixed-title-toolbar(md);
@include make-fixed-title-toolbar(lg);

// caption and action bar
.caption-action-bar {
  border-top: 1px solid $spring-gray;
  display: table;
  margin-bottom: ($line-height-computed / 2);
  table-layout: fixed;
  width: 100%;
}
.caption {
  color: $spring-green-base;
  display: table-cell;
  vertical-align: middle;
}
.action-bar {
  display: table-cell;
  position: relative;
  text-align: right;
  vertical-align: middle;
  width: 20%;

  .dropdown-menu {
    left: auto;
    right: 0;
  }
}
.action-bar-lg {
  width: 40%;
}
