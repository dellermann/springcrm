/*
 * application.less
 *
 * Copyright (c) 2011-2015, Daniel Ellermann
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 *
 */


// Bootstrap core variables and mixins
@import "bootstrap/variables";
@import "bootstrap/mixins";

// Reset and dependencies
@import "bootstrap/normalize";

// Core Bootstrap CSS
@import "bootstrap/scaffolding";
@import "bootstrap/type";
@import "bootstrap/grid";
@import "bootstrap/tables";
@import "bootstrap/forms";
@import "bootstrap/buttons";

// Components
@import "bootstrap/component-animations";
@import "bootstrap/dropdowns";
@import "bootstrap/button-groups";
@import "bootstrap/input-groups";
@import "bootstrap/navs";
@import "bootstrap/navbar";
@import "bootstrap/pagination";
@import "bootstrap/alerts";
@import "bootstrap/list-group";
@import "bootstrap/panels";
@import "bootstrap/wells";
@import "bootstrap/close";

// Components w/ JavaScript
@import "bootstrap/modals";

// Utility classes
@import "bootstrap/utilities";
@import "bootstrap/responsive-utilities";

// FontAwesome
@import "font-awesome/variables";
@import "font-awesome/mixins";
@import "font-awesome/path";
@import "font-awesome/core";
@import "font-awesome/larger";
@import "font-awesome/spinning";
@import "font-awesome/icons";

// Bootstrap extensions
@import "_bootstrap-datepicker";
@import "_bootstrap-fileinput.css";

// Selectize
@import "_selectize";

// Application variables and mixins
@import "_variables";
@import "_mixins";

// Page parts
@import "_header";
@import "_bars";
@import "_footer";

// Component redefinitions
@import "_nav";
@import "_lists";
@import "_forms";

// Print
@import "_print";


//===============================================
//
// Page components
//
//===============================================

@media (min-width: @screen-sm-min) {
  body > .container {
    padding-bottom: (@grid-gutter-width / 2);
    padding-top: (@grid-gutter-width / 2);
  }
}

.inner-container {
  margin: 0 (-@grid-gutter-width / 2);
  padding: (@navbar-margin-bottom / 2) (@grid-gutter-width / 2) 0;

  @media (max-width: @screen-xs-max) {
    margin-top: @navbar-height;
    padding-top: 0;
  }
  @media (min-width: @screen-sm-min) {
    #gradient .vertical(#EEE, #FFF);
    min-height: 400px;
  }
}

.spinner {
  color: @spring-green-base;
  cursor: pointer;
  display: none;
  height: @spinner-size;
  line-height: @spinner-size;
  left: 50%;
  margin-left: (-@spinner-size / 2);
  margin-top: (-@spinner-size / 2);
  position: fixed;
  text-align: center;
  top: 50%;
  width: @spinner-size;
  z-index: 50000;

  .fa {
    font-size: (@spinner-size - 5px);
    line-height: (@spinner-size - 5px);
  }
}


//===============================================
//
// Default style rewrites
//
//===============================================

// typography
h1 {
  margin-top: 0;
}
h2 {
  margin-bottom: @line-height-computed;
}

// button groups
.btn-group-justified {
  > a + a {
    border-left: none;
  }
}
.letter-bar {
  margin-bottom: @line-height-computed;
}

// dropdowns
.dropdown-header {
  border-bottom: 1px solid @gray-lighter;
  font-size: @font-size-base;
  margin-top: @line-height-computed;
  padding-bottom: @padding-small-vertical;

  &:first-child {
    margin-top: 0;
  }
}


//===============================================
//
// Other styles
//
//===============================================

.bubbling-icon {
  .transition(all 250ms ease-out);
  display: inline-block;

  &:hover, &:active, &:focus {
    outline: none;
  }
  &:hover {
    .scale(@bubbling-icon-scale);
  }
}

.textarea-container {
  position: relative;
}
.markdown-help-btn {
  .transition(background-color, border-color, opacity .5s; );
  border: 1px solid transparent;
  border-bottom-left-radius: @border-radius-base;
  border-top-right-radius: @border-radius-base;
  color: @input-color;
  cursor: pointer;
  font-size: @font-size-large;
  line-height: @line-height-computed;
  opacity: .15;
  padding: @padding-base-vertical @padding-base-horizontal;
  position: absolute;
  right: 0;
  top: 0;

  &:hover {
    background: @input-bg;
    border-color: @input-border;
    opacity: .9;
  }
  textarea:focus ~ & {
    border-color: @input-border-focus;
  }
}
.markdown-help-text {
  font-size: @font-size-small;
  margin-bottom: 0;

  pre {
    margin: 0;
  }
}

.fa {
  transform: translate(0, 0); // ensures no half-pixel rendering in firefox
}

// Selectize redefinitions
.selectize-input {
  padding: @padding-base-vertical @padding-base-horizontal;
}
.selectize-control.single .selectize-input:after {
  transform: scale(.9999);
}
.selectize-dropdown {
  .selectize-box-shadow(0 3px 3px rgba(0, 0, 0, .3));

  [data-selectable] {
    .box-sizing(content-box);
    min-height: @selectize-line-height;
    padding-left: @padding-base-horizontal;
    padding-right: @padding-base-horizontal;

    &:last-child {
      .selectize-border-radius(
          0 0 @selectize-border-radius @selectize-border-radius
        );
    }
  }
  .selected {
    background: lighten(@spring-green-base, 20%);

    &:hover, &:active, &:focus {
      background: @selectize-color-dropdown-item-active;
    }
  }
}

// Bootstrap file input redefinitions
.file-preview {
  padding: (@grid-gutter-width / 2);
}
.file-preview-thumbnails {
  .clearfix();
}
.file-preview-frame-image {
  .box-shadow(none);
  border: none;
  display: block;
  float: none;
  height: auto;
  margin: 0;
  padding: 0;

  &:hover {
    .box-shadow(none);
  }
}
.file-caption-name {
  .file-preview & {
    display: block;
    padding-right: 0;
    text-align: center;
    text-overflow: ellipsis;
    white-space: nowrap;
  }
  .kv-fileinput-caption & {
    word-break: break-all;
    word-wrap: break-word;
  }
}
.file-preview-status, .file-error-message {
  word-break: break-all;
  word-wrap: break-word;
}
.file-other-error {
  text-align: inherit;
}
.fileinput-remove {
  margin-top: 10px;
}

// vim:set ts=2 sw=2 sts=2:

