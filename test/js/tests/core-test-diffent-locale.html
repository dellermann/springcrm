<!DOCTYPE html>

<html data-decimal-separator="." data-grouping-separator=","
  data-num-fraction-digits="3">
<head>
  <meta charset="utf-8" />
  <title>Number extension tests with different separators</title>
  <link rel="stylesheet" href="css/qunit.css" />
  <script src="scripts/jquery.js"></script>
  <script src="scripts/qunit.js"></script>
  <script src="scripts/core.js"></script>
  <script>
  module("Numbers");
  test("Number formatting without precision", function () {
      equal((45).format(), "45");
      equal((-45).format(), "-45");
      equal((45.123).format(), "45.123");
      equal((-45.123).format(), "-45.123");
      equal((.123456).format(), "0.123456");
      equal((-.123456).format(), "-0.123456");
      equal((1234567.123).format(), "1,234,567.123");
      equal((-1234567.123).format(), "-1,234,567.123");
      equal((123456.123).format(), "123,456.123");
      equal((-123456.123).format(), "-123,456.123");
      equal((0 / 0).format(), "---");
  });

  test("Number formatting with null precision", function () {
      var n = null;

      equal((45).format(n), "45");
      equal((-45).format(n), "-45");
      equal((45.123).format(n), "45.123");
      equal((-45.123).format(n), "-45.123");
      equal((.123456).format(n), "0.123456");
      equal((-.123456).format(n), "-0.123456");
      equal((1234567.123).format(n), "1,234,567.123");
      equal((-1234567.123).format(n), "-1,234,567.123");
      equal((123456.123).format(n), "123,456.123");
      equal((-123456.123).format(n), "-123,456.123");
      equal((0 / 0).format(n), "---");
  });

  test("Number formatting with precision", function () {
      var n = 2;

      equal((45).format(n), "45.00");
      equal((-45).format(n), "-45.00");
      equal((45.123).format(n), "45.12");
      equal((45.128).format(n), "45.13");
      equal((-45.123).format(n), "-45.12");
      equal((-45.128).format(n), "-45.13");
      equal((.123456).format(n), "0.12");
      equal((-.123456).format(n), "-0.12");
      equal((1234567.123).format(n), "1,234,567.12");
      equal((-1234567.123).format(n), "-1,234,567.12");
      equal((123456.123).format(n), "123,456.12");
      equal((-123456.123).format(n), "-123,456.12");
      equal((0 / 0).format(n), "---");
      equal(Number.MIN_VALUE.format(n), "0.00");
      equal(Number.POSITIVE_INFINITY.format(n), "---");
      equal(Number.NEGATIVE_INFINITY.format(n), "---");
  });

  test("Number formatting with negative precision", function () {
      var n = -2;

      equal((45).format(n), "45.00");
      equal((-45).format(n), "-45.00");
      equal((45.123).format(n), "45.12");
      equal((45.128).format(n), "45.13");
      equal((-45.123).format(n), "-45.12");
      equal((-45.128).format(n), "-45.13");
      equal((.123456).format(n), "0.12");
      equal((-.123456).format(n), "-0.12");
      equal((1234567.123).format(n), "1,234,567.12");
      equal((-1234567.123).format(n), "-1,234,567.12");
      equal((123456.123).format(n), "123,456.12");
      equal((-123456.123).format(n), "-123,456.12");
      equal((0 / 0).format(n), "---");
      equal(Number.MIN_VALUE.format(n), "0.00");
      equal(Number.POSITIVE_INFINITY.format(n), "---");
      equal(Number.NEGATIVE_INFINITY.format(n), "---");
  });

  test("Number formatting with string precision", function () {
      var n = "2";

      equal((45).format(n), "45.00");
      equal((-45).format(n), "-45.00");
      equal((45.123).format(n), "45.12");
      equal((45.128).format(n), "45.13");
      equal((-45.123).format(n), "-45.12");
      equal((-45.128).format(n), "-45.13");
      equal((.123456).format(n), "0.12");
      equal((-.123456).format(n), "-0.12");
      equal((1234567.123).format(n), "1,234,567.12");
      equal((-1234567.123).format(n), "-1,234,567.12");
      equal((123456.123).format(n), "123,456.12");
      equal((-123456.123).format(n), "-123,456.12");
      equal((0 / 0).format(n), "---");
      equal(Number.MIN_VALUE.format(n), "0.00");
      equal(Number.POSITIVE_INFINITY.format(n), "---");
      equal(Number.NEGATIVE_INFINITY.format(n), "---");
  });

  test("Currency value formatting", function () {
      equal((45).formatCurrencyValue(), "45.000");
      equal((-45).formatCurrencyValue(), "-45.000");
      equal((45.123).formatCurrencyValue(), "45.123");
      equal((45.1238).formatCurrencyValue(), "45.124");
      equal((-45.123).formatCurrencyValue(), "-45.123");
      equal((-45.1238).formatCurrencyValue(), "-45.124");
      equal((.123456).formatCurrencyValue(), "0.123");
      equal((-.123456).formatCurrencyValue(), "-0.123");
      equal((1234567.123).formatCurrencyValue(), "1,234,567.123");
      equal((-1234567.123).formatCurrencyValue(), "-1,234,567.123");
      equal((123456.123).formatCurrencyValue(), "123,456.123");
      equal((-123456.123).formatCurrencyValue(), "-123,456.123");
      equal((0 / 0).formatCurrencyValue(), "---");
      equal(Number.MIN_VALUE.formatCurrencyValue(), "0.000");
      equal(Number.POSITIVE_INFINITY.formatCurrencyValue(), "---");
      equal(Number.NEGATIVE_INFINITY.formatCurrencyValue(), "---");
  });

  test("Number parsing", function () {
      equal("45".parseNumber(), 45);
      equal("45.".parseNumber(), 45);
      equal("45.00".parseNumber(), 45);
      equal("45.123".parseNumber(), 45.123);
      equal("1,234,567.123".parseNumber(), 1234567.123);
      equal("-45".parseNumber(), -45);
      equal("-45.00".parseNumber(), -45);
      equal("-45.123".parseNumber(), -45.123);
      equal("-1,234,567.123".parseNumber(), -1234567.123);
      equal("0.123456".parseNumber(), 0.123456);
      equal("-0.123456".parseNumber(), -0.123456);
      equal(".123456".parseNumber(), 0.123456);
      equal("-.123456".parseNumber(), -0.123456);
  });
  </script>
</head>

<body>
  <div id="qunit"></div>
</body>
</html>